<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>The Varches — Original Sketches</title>
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link href="https://fonts.googleapis.com/css2?family=Playfair+Display:ital,wght@0,400;0,700;0,900;1,400;1,700&family=Cormorant+Garamond:ital,wght@0,300;0,400;0,600;1,300;1,400&family=Space+Mono:ital,wght@0,400;0,700;1,400&display=swap" rel="stylesheet" />

  <style>
    *, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

    :root {
      --ink: #0d0b0a;
      --parchment: #f5f0e8;
      --cream: #faf7f2;
      --charcoal: #2a2520;
      --warm-gray: #8a7d72;
      --accent: #c8a96e;
      --accent-dark: #9a7a42;
      --red: #b8432d;
      --off-white: #ede9e0;
    }

    html { scroll-behavior: smooth; }

    body {
      background: var(--cream);
      color: var(--ink);
      font-family: 'Cormorant Garamond', serif;
      cursor: none;
      overflow-x: hidden;
    }

    /* Custom Cursor */
    .cursor {
      position: fixed; width: 10px; height: 10px;
      background: var(--ink); border-radius: 50%;
      pointer-events: none; z-index: 9999;
      transform: translate(-50%, -50%);
      transition: transform 0.1s, width 0.2s, height 0.2s, background 0.2s;
      mix-blend-mode: difference;
    }
    .cursor-ring {
      position: fixed; width: 36px; height: 36px;
      border: 1px solid var(--ink); border-radius: 50%;
      pointer-events: none; z-index: 9998;
      transform: translate(-50%, -50%);
      transition: transform 0.12s ease-out, width 0.3s, height 0.3s, opacity 0.3s;
      mix-blend-mode: difference;
    }
    .cursor.hovering { width: 6px; height: 6px; background: var(--accent); }
    .cursor-ring.hovering { width: 52px; height: 52px; border-color: var(--accent); }

    /* Grain overlay */
    body::before {
      content: ''; position: fixed; inset: 0;
      background-image: url("data:image/svg+xml,%3Csvg viewBox='0 0 200 200' xmlns='http://www.w3.org/2000/svg'%3E%3Cfilter id='noiseFilter'%3E%3CfeTurbulence type='fractalNoise' baseFrequency='0.85' numOctaves='4' stitchTiles='stitch'/%3E%3C/filter%3E%3Crect width='100%25' height='100%25' filter='url(%23noiseFilter)'/%3E%3C/svg%3E");
      opacity: 0.03; pointer-events: none; z-index: 9997;
    }

    /* HEADER */
    header {
      position: fixed; top: 0; left: 0; right: 0; z-index: 100;
      padding: 1.5rem 3rem;
      display: flex; align-items: center; justify-content: space-between;
      background: rgba(245,240,232,0.92); backdrop-filter: blur(12px);
      border-bottom: 1px solid rgba(200,169,110,0.3);
    }
    .logo {
      font-family: 'Playfair Display', serif;
      font-size: 1.4rem; font-weight: 900; letter-spacing: 0.12em;
      text-transform: uppercase; color: var(--ink); text-decoration: none;
    }
    .logo span { color: var(--accent); }
    nav { display: flex; gap: 2.5rem; align-items: center; }
    nav a {
      font-family: 'Space Mono', monospace; font-size: 0.65rem;
      letter-spacing: 0.2em; text-transform: uppercase;
      text-decoration: none; color: var(--warm-gray); transition: color 0.2s;
    }
    nav a:hover { color: var(--ink); }
    .cart-btn {
      font-family: 'Space Mono', monospace; font-size: 0.65rem;
      letter-spacing: 0.15em; text-transform: uppercase;
      background: var(--ink); color: var(--cream);
      border: none; padding: 0.6rem 1.4rem; cursor: none;
      transition: background 0.2s; position: relative;
    }
    .cart-btn:hover { background: var(--accent-dark); }
    .cart-count {
      position: absolute; top: -6px; right: -6px;
      background: var(--red); color: white;
      width: 18px; height: 18px; border-radius: 50%;
      font-size: 0.6rem; display: flex; align-items: center; justify-content: center; font-weight: 700;
    }

    /* HERO — Full width, fully centered */
    .hero {
      min-height: 100vh;
      display: flex; align-items: center; justify-content: center;
      background: var(--ink);
      position: relative; overflow: hidden; text-align: center;
    }
    .hero::before {
      content: 'THE VARCHES';
      position: absolute; top: 50%; left: 50%;
      transform: translate(-50%, -50%);
      font-family: 'Playfair Display', serif;
      font-size: 18vw; font-weight: 900;
      color: rgba(255,255,255,0.03); line-height: 1;
      pointer-events: none; letter-spacing: -0.05em; white-space: nowrap;
    }
    .hero-content {
      display: flex; flex-direction: column; align-items: center; justify-content: center;
      padding: 10rem 3rem 6rem; position: relative; z-index: 1; max-width: 900px;
    }
    .hero-eyebrow {
      font-family: 'Space Mono', monospace; font-size: 0.6rem;
      letter-spacing: 0.4em; text-transform: uppercase;
      color: var(--accent); margin-bottom: 2rem;
    }
    .hero-title {
      font-family: 'Playfair Display', serif;
      font-size: clamp(3.5rem, 8vw, 7rem); font-weight: 900;
      line-height: 0.95; color: var(--parchment); margin-bottom: 2.5rem;
    }
    .hero-title em { font-style: italic; color: var(--accent); display: block; }
    .hero-desc {
      font-size: 1.2rem; line-height: 1.7;
      color: rgba(245,240,232,0.6); max-width: 560px; margin-bottom: 3rem;
    }
    .hero-cta {
      display: inline-flex; align-items: center; gap: 1rem;
      background: var(--accent); color: var(--ink); padding: 1rem 2.5rem;
      font-family: 'Space Mono', monospace; font-size: 0.7rem;
      letter-spacing: 0.2em; text-transform: uppercase; text-decoration: none;
      transition: background 0.25s, transform 0.25s; cursor: none;
    }
    .hero-cta:hover { background: var(--parchment); transform: translateX(4px); }
    .hero-cta svg { transition: transform 0.25s; }
    .hero-cta:hover svg { transform: translateX(4px); }

    /* MARQUEE */
    .marquee-wrap { background: var(--ink); padding: 1rem 0; overflow: hidden; white-space: nowrap; }
    .marquee-track { display: inline-flex; animation: marquee 20s linear infinite; }
    .marquee-track span {
      font-family: 'Space Mono', monospace; font-size: 0.65rem;
      letter-spacing: 0.3em; text-transform: uppercase; color: var(--accent); padding: 0 3rem;
    }
    .marquee-track .sep { color: rgba(200,169,110,0.4); }
    @keyframes marquee { from { transform: translateX(0); } to { transform: translateX(-50%); } }

    /* SECTION BASE */
    section { padding: 7rem 0; }
    .container { max-width: 1320px; margin: 0 auto; padding: 0 3rem; }
    .section-header {
      display: flex; align-items: flex-end; justify-content: space-between;
      margin-bottom: 4rem; border-bottom: 1px solid rgba(200,169,110,0.3); padding-bottom: 2rem;
    }
    .section-eyebrow {
      font-family: 'Space Mono', monospace; font-size: 0.6rem;
      letter-spacing: 0.4em; text-transform: uppercase; color: var(--accent); margin-bottom: 0.8rem;
    }
    .section-title {
      font-family: 'Playfair Display', serif;
      font-size: clamp(2rem, 4vw, 3.5rem); font-weight: 900; line-height: 1;
    }
    .section-title em { font-style: italic; color: var(--warm-gray); }
    .view-all-link {
      font-family: 'Space Mono', monospace; font-size: 0.65rem; letter-spacing: 0.2em;
      text-transform: uppercase; color: var(--warm-gray); text-decoration: none;
      border-bottom: 1px solid var(--warm-gray); padding-bottom: 2px;
      transition: color 0.2s, border-color 0.2s; cursor: none;
    }
    .view-all-link:hover { color: var(--ink); border-color: var(--ink); }

    /* FILTER BAR */
    .filter-bar { display: flex; gap: 0.5rem; flex-wrap: wrap; margin-bottom: 3rem; }
    .filter-btn {
      font-family: 'Space Mono', monospace; font-size: 0.6rem; letter-spacing: 0.2em;
      text-transform: uppercase; border: 1px solid rgba(200,169,110,0.4);
      background: transparent; color: var(--warm-gray); padding: 0.5rem 1.2rem;
      cursor: none; transition: all 0.2s;
    }
    .filter-btn:hover, .filter-btn.active { background: var(--ink); color: var(--cream); border-color: var(--ink); }

    /* SKETCH GRID */
    .sketches-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 1.5px; }
    .sketch-card { position: relative; overflow: hidden; background: var(--charcoal); aspect-ratio: 3/4; cursor: none; }
    .sketch-card:nth-child(3n+1) { aspect-ratio: 3/4; }
    .sketch-card:nth-child(3n+2) { aspect-ratio: 3/5; }
    .sketch-card:nth-child(3n) { aspect-ratio: 4/5; }
    .sketch-img {
      width: 100%; height: 100%; object-fit: cover;
      transition: transform 0.8s cubic-bezier(0.25,0.46,0.45,0.94);
      filter: saturate(0.9) contrast(1.05);
    }
    .sketch-card:hover .sketch-img { transform: scale(1.06); }
    .sketch-overlay {
      position: absolute; inset: 0;
      background: linear-gradient(to top, rgba(13,11,10,0.95) 0%, rgba(13,11,10,0.3) 50%, transparent 100%);
      opacity: 0; transition: opacity 0.4s;
      display: flex; flex-direction: column; justify-content: flex-end; padding: 2rem;
    }
    .sketch-card:hover .sketch-overlay { opacity: 1; }
    .sketch-tag {
      font-family: 'Space Mono', monospace; font-size: 0.55rem;
      letter-spacing: 0.25em; text-transform: uppercase; color: var(--accent); margin-bottom: 0.5rem;
    }
    .sketch-name { font-family: 'Playfair Display', serif; font-size: 1.3rem; font-weight: 700; color: var(--parchment); margin-bottom: 0.3rem; }
    .sketch-meta { font-size: 0.85rem; color: rgba(245,240,232,0.6); margin-bottom: 1.2rem; }
    .sketch-price { font-family: 'Space Mono', monospace; font-size: 1.1rem; color: var(--accent); font-weight: 700; margin-bottom: 1rem; }
    .sketch-actions { display: flex; gap: 0.6rem; }
    .btn-add-cart {
      flex: 1; background: var(--accent); color: var(--ink); border: none; padding: 0.7rem;
      font-family: 'Space Mono', monospace; font-size: 0.6rem; letter-spacing: 0.15em;
      text-transform: uppercase; cursor: none; transition: background 0.2s;
    }
    .btn-add-cart:hover { background: var(--parchment); }
    .btn-view {
      background: transparent; border: 1px solid rgba(245,240,232,0.4); color: var(--parchment);
      padding: 0.7rem 1rem; font-family: 'Space Mono', monospace; font-size: 0.6rem;
      letter-spacing: 0.1em; text-transform: uppercase; cursor: none; transition: all 0.2s;
    }
    .btn-view:hover { background: rgba(245,240,232,0.1); }
    .sketch-badge {
      position: absolute; top: 1rem; left: 1rem; background: var(--red); color: white;
      font-family: 'Space Mono', monospace; font-size: 0.55rem;
      letter-spacing: 0.15em; text-transform: uppercase; padding: 0.3rem 0.7rem;
    }
    .sketch-badge.original { background: var(--accent-dark); }
    .sketch-placeholder {
      width: 100%; height: 100%; background: var(--charcoal);
      display: flex; align-items: center; justify-content: center; flex-direction: column; gap: 0.8rem;
    }
    .sketch-placeholder svg { opacity: 0.2; }
    .sketch-placeholder span {
      font-family: 'Space Mono', monospace; font-size: 0.6rem;
      letter-spacing: 0.2em; color: rgba(245,240,232,0.2); text-transform: uppercase;
    }

    /* ABOUT */
    .about-section { background: var(--ink); padding: 8rem 0; position: relative; overflow: hidden; }
    .about-section::before {
      content: 'ART'; position: absolute; right: -0.1em; bottom: -0.2em;
      font-family: 'Playfair Display', serif; font-size: 30vw; font-weight: 900;
      color: rgba(255,255,255,0.025); line-height: 1; pointer-events: none;
    }
    .about-inner { display: grid; grid-template-columns: 1fr 1fr; gap: 8rem; align-items: center; }
    .about-left p { font-size: 1.25rem; line-height: 1.8; color: rgba(245,240,232,0.75); margin-bottom: 2rem; }
    .about-left p:first-of-type { font-size: 1.6rem; font-style: italic; color: var(--parchment); line-height: 1.5; }
    .about-stats { display: grid; grid-template-columns: 1fr 1fr 1fr; gap: 2rem; margin-top: 3rem; }
    .stat-item { border-left: 2px solid var(--accent); padding-left: 1rem; }
    .stat-num { font-family: 'Playfair Display', serif; font-size: 2.5rem; font-weight: 900; color: var(--parchment); }
    .stat-label { font-family: 'Space Mono', monospace; font-size: 0.6rem; letter-spacing: 0.2em; text-transform: uppercase; color: var(--warm-gray); }
    .about-image-collage { position: relative; height: 500px; }
    .collage-img { position: absolute; overflow: hidden; background: var(--charcoal); }
    .collage-img img { width: 100%; height: 100%; object-fit: cover; }
    .collage-img:nth-child(1) { width: 60%; height: 70%; top: 0; right: 0; }
    .collage-img:nth-child(2) { width: 50%; height: 55%; bottom: 0; left: 0; }
    .collage-img:nth-child(3) { width: 30%; height: 30%; top: 50%; left: 40%; border: 4px solid var(--ink); z-index: 2; }

    /* PROCESS */
    .process-section { background: var(--parchment); }
    .process-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 0; }
    .process-step { padding: 3rem 2.5rem; border-right: 1px solid rgba(200,169,110,0.2); position: relative; }
    .process-step:last-child { border-right: none; }
    .step-num { font-family: 'Playfair Display', serif; font-size: 4rem; font-weight: 900; color: rgba(200,169,110,0.15); line-height: 1; margin-bottom: 1.5rem; }
    .step-title { font-family: 'Playfair Display', serif; font-size: 1.2rem; font-weight: 700; margin-bottom: 1rem; }
    .step-desc { font-size: 0.95rem; line-height: 1.7; color: var(--warm-gray); }

    /* TESTIMONIALS */
    .testimonials-section { background: var(--off-white); padding: 7rem 0; }
    .testimonials-grid { display: grid; grid-template-columns: repeat(3, 1fr); gap: 2rem; }
    .testimonial-card { background: var(--cream); padding: 2.5rem; border-top: 3px solid var(--accent); position: relative; }
    .quote-mark { font-family: 'Playfair Display', serif; font-size: 5rem; line-height: 1; color: rgba(200,169,110,0.2); position: absolute; top: 0.5rem; right: 1.5rem; }
    .testimonial-text { font-size: 1.05rem; font-style: italic; line-height: 1.75; margin-bottom: 2rem; color: var(--charcoal); }
    .testimonial-author { display: flex; align-items: center; gap: 1rem; }
    .author-avatar { width: 40px; height: 40px; border-radius: 50%; background: var(--warm-gray); display: flex; align-items: center; justify-content: center; font-family: 'Playfair Display', serif; font-weight: 700; color: white; }
    .author-name { font-family: 'Space Mono', monospace; font-size: 0.65rem; letter-spacing: 0.1em; color: var(--ink); }
    .author-location { font-size: 0.8rem; color: var(--warm-gray); }

    /* CONTACT */
    .contact-section { background: var(--charcoal); padding: 7rem 0; }
    .contact-inner { display: grid; grid-template-columns: 1fr 1fr; gap: 6rem; }
    .contact-info h2 { font-family: 'Playfair Display', serif; font-size: clamp(2rem, 4vw, 3rem); font-weight: 900; color: var(--parchment); margin-bottom: 2rem; }
    .contact-info p { font-size: 1.1rem; line-height: 1.8; color: rgba(245,240,232,0.65); margin-bottom: 3rem; }
    .contact-detail { display: flex; align-items: center; gap: 1rem; color: rgba(245,240,232,0.7); font-size: 0.9rem; margin-bottom: 1rem; }
    .contact-detail svg { color: var(--accent); flex-shrink: 0; }
    .contact-form { display: flex; flex-direction: column; gap: 1.2rem; }
    .form-group { display: flex; flex-direction: column; gap: 0.4rem; }
    .form-group label { font-family: 'Space Mono', monospace; font-size: 0.6rem; letter-spacing: 0.2em; text-transform: uppercase; color: var(--accent); }
    .form-group input, .form-group textarea, .form-group select {
      background: rgba(245,240,232,0.05); border: 1px solid rgba(200,169,110,0.2);
      padding: 0.9rem 1.2rem; color: var(--parchment);
      font-family: 'Cormorant Garamond', serif; font-size: 1rem; outline: none;
      transition: border-color 0.2s, background 0.2s; cursor: none;
    }
    .form-group input:focus, .form-group textarea:focus, .form-group select:focus { border-color: var(--accent); background: rgba(200,169,110,0.05); }
    .form-group select option { background: var(--charcoal); }
    .form-group textarea { resize: vertical; min-height: 130px; }
    .submit-btn {
      background: var(--accent); color: var(--ink); border: none; padding: 1rem 2.5rem;
      font-family: 'Space Mono', monospace; font-size: 0.7rem; letter-spacing: 0.2em;
      text-transform: uppercase; cursor: none; transition: background 0.2s, transform 0.2s; align-self: flex-start;
    }
    .submit-btn:hover { background: var(--parchment); transform: translateY(-2px); }

    /* CART DRAWER */
    .cart-overlay { position: fixed; inset: 0; background: rgba(13,11,10,0.6); z-index: 200; opacity: 0; pointer-events: none; transition: opacity 0.3s; backdrop-filter: blur(4px); }
    .cart-overlay.open { opacity: 1; pointer-events: all; }
    .cart-drawer { position: fixed; top: 0; right: -500px; bottom: 0; width: 440px; background: var(--cream); z-index: 201; transition: right 0.4s cubic-bezier(0.25,0.46,0.45,0.94); display: flex; flex-direction: column; }
    .cart-drawer.open { right: 0; }
    .cart-header { padding: 2rem 2.5rem; border-bottom: 1px solid rgba(200,169,110,0.2); display: flex; align-items: center; justify-content: space-between; }
    .cart-header h3 { font-family: 'Playfair Display', serif; font-size: 1.4rem; font-weight: 700; }
    .cart-close { background: none; border: none; cursor: none; color: var(--warm-gray); font-size: 1.5rem; transition: color 0.2s; }
    .cart-close:hover { color: var(--ink); }
    .cart-body { flex: 1; overflow-y: auto; padding: 1.5rem 2.5rem; }
    .cart-empty { display: flex; flex-direction: column; align-items: center; justify-content: center; height: 100%; color: var(--warm-gray); text-align: center; gap: 1rem; }
    .cart-empty p { font-size: 1.1rem; font-style: italic; }
    .cart-item { display: flex; gap: 1.2rem; padding: 1.2rem 0; border-bottom: 1px solid rgba(200,169,110,0.15); }
    .cart-item-img { width: 80px; height: 80px; object-fit: cover; background: var(--charcoal); flex-shrink: 0; }
    .cart-item-info { flex: 1; }
    .cart-item-name { font-family: 'Playfair Display', serif; font-size: 0.95rem; font-weight: 600; margin-bottom: 0.2rem; }
    .cart-item-meta { font-size: 0.8rem; color: var(--warm-gray); margin-bottom: 0.5rem; }
    .cart-item-price { font-family: 'Space Mono', monospace; font-size: 0.9rem; color: var(--accent-dark); font-weight: 700; }
    .cart-item-remove { background: none; border: none; cursor: none; color: var(--warm-gray); font-size: 0.9rem; transition: color 0.2s; align-self: flex-start; }
    .cart-item-remove:hover { color: var(--red); }
    .cart-footer { padding: 1.5rem 2.5rem 2rem; border-top: 1px solid rgba(200,169,110,0.2); }
    .cart-total { display: flex; justify-content: space-between; align-items: center; margin-bottom: 1.5rem; }
    .cart-total-label { font-family: 'Space Mono', monospace; font-size: 0.65rem; letter-spacing: 0.2em; text-transform: uppercase; color: var(--warm-gray); }
    .cart-total-amount { font-family: 'Playfair Display', serif; font-size: 1.5rem; font-weight: 700; }
    .checkout-btn { width: 100%; background: var(--ink); color: var(--cream); border: none; padding: 1.1rem; font-family: 'Space Mono', monospace; font-size: 0.7rem; letter-spacing: 0.2em; text-transform: uppercase; cursor: none; transition: background 0.2s; }
    .checkout-btn:hover { background: var(--accent-dark); }

    /* CHECKOUT MODAL */
    .modal-overlay { position: fixed; inset: 0; background: rgba(13,11,10,0.75); z-index: 300; opacity: 0; pointer-events: none; transition: opacity 0.3s; display: flex; align-items: center; justify-content: center; padding: 2rem; backdrop-filter: blur(6px); }
    .modal-overlay.open { opacity: 1; pointer-events: all; }
    .modal { background: var(--cream); max-width: 620px; width: 100%; max-height: 90vh; overflow-y: auto; padding: 3rem; transform: scale(0.95); transition: transform 0.3s; }
    .modal-overlay.open .modal { transform: scale(1); }
    .modal h3 { font-family: 'Playfair Display', serif; font-size: 1.8rem; font-weight: 700; margin-bottom: 0.5rem; }
    .modal-subtitle { color: var(--warm-gray); font-size: 0.95rem; margin-bottom: 2rem; }

    /* LIGHTBOX */
    .lightbox { position: fixed; inset: 0; background: rgba(13,11,10,0.95); z-index: 400; opacity: 0; pointer-events: none; transition: opacity 0.3s; display: flex; align-items: center; justify-content: center; }
    .lightbox.open { opacity: 1; pointer-events: all; }
    .lightbox-inner { max-width: 90vw; max-height: 90vh; display: grid; grid-template-columns: 1fr 400px; gap: 3rem; align-items: center; }
    .lightbox-img-wrap { height: 80vh; overflow: hidden; display: flex; align-items: center; justify-content: center; }
    .lightbox-img-wrap img { max-height: 100%; max-width: 100%; object-fit: contain; }
    .lightbox-info { color: var(--parchment); }
    .lightbox-tag { font-family: 'Space Mono', monospace; font-size: 0.6rem; letter-spacing: 0.3em; text-transform: uppercase; color: var(--accent); margin-bottom: 1rem; }
    .lightbox-title { font-family: 'Playfair Display', serif; font-size: 2.2rem; font-weight: 700; margin-bottom: 1rem; line-height: 1.1; }
    .lightbox-desc { font-size: 1.05rem; line-height: 1.75; color: rgba(245,240,232,0.7); margin-bottom: 2rem; }
    .lightbox-specs { margin-bottom: 2rem; }
    .spec-row { display: flex; justify-content: space-between; padding: 0.5rem 0; border-bottom: 1px solid rgba(245,240,232,0.1); font-size: 0.9rem; }
    .spec-row .spec-k { color: rgba(245,240,232,0.5); }
    .spec-row .spec-v { color: var(--parchment); }
    .lightbox-price { font-family: 'Space Mono', monospace; font-size: 1.8rem; color: var(--accent); font-weight: 700; margin-bottom: 1.5rem; }
    .lightbox-actions { display: flex; gap: 1rem; }
    .lightbox-close { position: absolute; top: 2rem; right: 2rem; background: rgba(245,240,232,0.1); border: none; color: var(--parchment); width: 44px; height: 44px; border-radius: 50%; font-size: 1.2rem; cursor: none; transition: background 0.2s; display: flex; align-items: center; justify-content: center; }
    .lightbox-close:hover { background: rgba(245,240,232,0.2); }

    /* TOAST */
    .toast-container { position: fixed; bottom: 2rem; right: 2rem; z-index: 500; display: flex; flex-direction: column; gap: 0.7rem; }
    .toast { background: var(--ink); color: var(--parchment); padding: 1rem 1.5rem; font-family: 'Space Mono', monospace; font-size: 0.65rem; letter-spacing: 0.1em; display: flex; align-items: center; gap: 0.8rem; transform: translateX(120%); transition: transform 0.4s cubic-bezier(0.25,0.46,0.45,0.94); min-width: 280px; border-left: 3px solid var(--accent); }
    .toast.show { transform: translateX(0); }
    .toast.success { border-left-color: #5a9a5a; }
    .toast.error { border-left-color: var(--red); }

    /* FOOTER */
    footer { background: var(--ink); padding: 5rem 0 2rem; }
    .footer-top { display: grid; grid-template-columns: 2fr 1fr 1fr 1fr; gap: 4rem; padding-bottom: 3rem; margin-bottom: 2rem; border-bottom: 1px solid rgba(200,169,110,0.15); }
    .footer-brand .logo { font-size: 1.6rem; }
    .footer-brand p { margin-top: 1.5rem; font-size: 0.95rem; line-height: 1.75; color: rgba(245,240,232,0.5); max-width: 260px; }
    .footer-col h5 { font-family: 'Space Mono', monospace; font-size: 0.6rem; letter-spacing: 0.3em; text-transform: uppercase; color: var(--accent); margin-bottom: 1.5rem; }
    .footer-col a { display: block; color: rgba(245,240,232,0.55); text-decoration: none; font-size: 0.9rem; margin-bottom: 0.7rem; transition: color 0.2s; cursor: none; }
    .footer-col a:hover { color: var(--parchment); }
    .footer-bottom { display: flex; justify-content: space-between; align-items: center; }
    .footer-copy { font-family: 'Space Mono', monospace; font-size: 0.6rem; letter-spacing: 0.15em; color: rgba(245,240,232,0.3); }

    /* LOADING */
    .loading-spinner { display: flex; align-items: center; justify-content: center; padding: 4rem; gap: 0.5rem; }
    .loading-dot { width: 8px; height: 8px; background: var(--accent); border-radius: 50%; animation: pulse 1.2s ease-in-out infinite; }
    .loading-dot:nth-child(2) { animation-delay: 0.2s; }
    .loading-dot:nth-child(3) { animation-delay: 0.4s; }
    @keyframes pulse { 0%,100% { transform: scale(0.5); opacity: 0.3; } 50% { transform: scale(1); opacity: 1; } }

    /* ANIMATIONS */
    .fade-up { opacity: 0; transform: translateY(30px); transition: opacity 0.7s, transform 0.7s; }
    .fade-up.visible { opacity: 1; transform: translateY(0); }

    /* RESPONSIVE */
    @media (max-width: 1024px) {
      .hero { min-height: 80vh; }
      .sketches-grid { grid-template-columns: repeat(2, 1fr); }
      .about-inner { grid-template-columns: 1fr; gap: 4rem; }
      .about-image-collage { height: 300px; }
      .process-grid { grid-template-columns: repeat(2, 1fr); }
      .footer-top { grid-template-columns: 1fr 1fr; }
    }
    @media (max-width: 768px) {
      header { padding: 1rem 1.5rem; }
      nav { display: none; }
      .container { padding: 0 1.5rem; }
      .hero-content { padding: 7rem 2rem 3rem; }
      .sketches-grid { grid-template-columns: 1fr; }
      .testimonials-grid { grid-template-columns: 1fr; }
      .contact-inner { grid-template-columns: 1fr; gap: 3rem; }
      .lightbox-inner { grid-template-columns: 1fr; }
      .footer-top { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>

<!-- Cursor -->
<div class="cursor" id="cursor"></div>
<div class="cursor-ring" id="cursorRing"></div>

<!-- Toast Container -->
<div class="toast-container" id="toastContainer"></div>

<!-- Cart Overlay -->
<div class="cart-overlay" id="cartOverlay" onclick="closeCart()"></div>
<div class="cart-drawer" id="cartDrawer">
  <div class="cart-header">
    <h3>Your Selection</h3>
    <button class="cart-close" onclick="closeCart()">✕</button>
  </div>
  <div class="cart-body" id="cartBody">
    <div class="cart-empty">
      <svg width="48" height="48" fill="none" stroke="currentColor" stroke-width="1" viewBox="0 0 24 24"><path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 01-8 0"/></svg>
      <p>Your collection awaits.<br>Add sketches to begin.</p>
    </div>
  </div>
  <div class="cart-footer" id="cartFooter" style="display:none">
    <div class="cart-total">
      <span class="cart-total-label">Total</span>
      <span class="cart-total-amount" id="cartTotal">₹0.00</span>
    </div>
    <button class="checkout-btn" onclick="openCheckout()">Proceed to Checkout →</button>
  </div>
</div>

<!-- Lightbox -->
<div class="lightbox" id="lightbox">
  <button class="lightbox-close" onclick="closeLightbox()">✕</button>
  <div class="lightbox-inner" id="lightboxContent"></div>
</div>

<!-- Checkout Modal -->
<div class="modal-overlay" id="checkoutModal">
  <div class="modal">
    <h3>Complete Your Order</h3>
    <p class="modal-subtitle">Fill in your details and we'll confirm your order.</p>
    <div class="contact-form">
      <div style="display:grid; grid-template-columns:1fr 1fr; gap:1rem;">
        <div class="form-group">
          <label>Full Name *</label>
          <input type="text" id="co-name" placeholder="Your name" />
        </div>
        <div class="form-group">
          <label>Email *</label>
          <input type="email" id="co-email" placeholder="your@email.com" />
        </div>
      </div>
      <div class="form-group">
        <label>Phone</label>
        <input type="tel" id="co-phone" placeholder="+91 xxxxx xxxxx" />
      </div>
      <div class="form-group">
        <label>Shipping Address *</label>
        <textarea id="co-address" rows="3" placeholder="Full address with PIN code"></textarea>
      </div>
      <div class="form-group">
        <label>Special Notes</label>
        <textarea id="co-notes" rows="2" placeholder="Any special requests or notes..."></textarea>
      </div>
      <div style="display:flex; gap:1rem;">
        <button class="submit-btn" onclick="placeOrder()">Place Order →</button>
        <button class="submit-btn" style="background:transparent; border:1px solid var(--warm-gray); color:var(--charcoal);" onclick="closeCheckout()">Cancel</button>
      </div>
    </div>
  </div>
</div>

<!-- HEADER -->
<header>
  <a href="#" class="logo">The <span>Varches</span></a>
  <nav>
    <a href="#gallery">Gallery</a>
    <a href="#about">About</a>
    <a href="#process">Process</a>
    <a href="#contact">Contact</a>
  </nav>
  <button class="cart-btn" onclick="openCart()">
    Cart
    <span class="cart-count" id="cartCount" style="display:none">0</span>
  </button>
</header>

<!-- HERO — Full width, centered, no image grid -->
<section class="hero">
  <div class="hero-content">
    <p class="hero-eyebrow">✦ Original Hand-Drawn Art ✦</p>
    <h1 class="hero-title">
      Sketches That <em>Breathe Life</em> Into Space
    </h1>
    <p class="hero-desc">Each piece is a conversation between hand and paper — original works born from obsession, solitude, and the unstoppable need to create.</p>
    <a href="#gallery" class="hero-cta">
      Explore the Gallery
      <svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><line x1="5" y1="12" x2="19" y2="12"/><polyline points="12 5 19 12 12 19"/></svg>
    </a>
  </div>
</section>

<!-- MARQUEE -->
<div class="marquee-wrap">
  <div class="marquee-track">
    <span>Original Sketches</span><span class="sep">◆</span>
    <span>Charcoal & Graphite</span><span class="sep">◆</span>
    <span>Handcrafted Art</span><span class="sep">◆</span>
    <span>The Varches</span><span class="sep">◆</span>
    <span>Made With Soul</span><span class="sep">◆</span>
    <span>Each One Unique</span><span class="sep">◆</span>
    <span>Original Sketches</span><span class="sep">◆</span>
    <span>Charcoal & Graphite</span><span class="sep">◆</span>
    <span>Handcrafted Art</span><span class="sep">◆</span>
    <span>The Varches</span><span class="sep">◆</span>
    <span>Made With Soul</span><span class="sep">◆</span>
    <span>Each One Unique</span><span class="sep">◆</span>
  </div>
</div>

<!-- GALLERY -->
<section id="gallery">
  <div class="container">
    <div class="section-header fade-up">
      <div>
        <p class="section-eyebrow">✦ The Collection</p>
        <h2 class="section-title">Original <em>Works</em></h2>
      </div>
      <a href="#" class="view-all-link">View All →</a>
    </div>
    <div class="filter-bar" id="filterBar">
      <button class="filter-btn active" data-cat="">All Works</button>
    </div>
    <div id="sketchesGrid" class="sketches-grid">
      <div class="loading-spinner">
        <div class="loading-dot"></div>
        <div class="loading-dot"></div>
        <div class="loading-dot"></div>
      </div>
    </div>
  </div>
</section>

<!-- ABOUT -->
<section class="about-section" id="about">
  <div class="container">
    <div class="about-inner">
      <div class="about-left fade-up">
        <p class="section-eyebrow">✦ The Story</p>
        <h2 class="section-title" style="color:var(--parchment); margin-bottom:2rem;">Behind Every Line,<br><em style="color:var(--accent);">A Heartbeat.</em></h2>
        <p>The Varches began as a whisper — late nights, dim lamp, paper worn soft at the edges. What started as private sketching sessions evolved into an obsession: capturing the weight of human expression through the simplest tools.</p>
        <p>Every sketch sold is the only one of its kind. No prints. No reproductions. Only the original, carrying all the intention, hesitation, and conviction of the moment it was drawn.</p>
        <div class="about-stats">
          <div class="stat-item"><div class="stat-num" id="statSketches">—</div><div class="stat-label">Originals</div></div>
          <div class="stat-item"><div class="stat-num" id="statOrders">—</div><div class="stat-label">Sold</div></div>
          <div class="stat-item"><div class="stat-num">100%</div><div class="stat-label">Handmade</div></div>
        </div>
      </div>
      <div class="about-image-collage fade-up">
        <div class="collage-img"><div class="sketch-placeholder" style="background:#3d3530; height:100%"><svg width="48" height="48" fill="none" stroke="white" stroke-width="1" viewBox="0 0 24 24"><path d="M12 20h9"/><path d="M16.5 3.5a2.121 2.121 0 013 3L7 19l-4 1 1-4L16.5 3.5z"/></svg></div></div>
        <div class="collage-img"><div class="sketch-placeholder" style="background:#2e2520; height:100%"><svg width="40" height="40" fill="none" stroke="white" stroke-width="1" viewBox="0 0 24 24"><circle cx="12" cy="12" r="10"/><path d="M12 8v4l3 3"/></svg></div></div>
        <div class="collage-img"><div class="sketch-placeholder" style="background:#1a1512; height:100%"><svg width="28" height="28" fill="none" stroke="white" stroke-width="1" viewBox="0 0 24 24"><path d="M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 00-2.91-.09z"/><path d="M12 15l-3-3a22 22 0 012-3.95A12.88 12.88 0 0122 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 01-4 2z"/></svg></div></div>
      </div>
    </div>
  </div>
</section>

<!-- PROCESS -->
<section class="process-section" id="process">
  <div class="container">
    <div class="section-header fade-up">
      <div>
        <p class="section-eyebrow">✦ How It Works</p>
        <h2 class="section-title">From Idea to <em>Your Wall</em></h2>
      </div>
    </div>
    <div class="process-grid">
      <div class="process-step fade-up"><div class="step-num">01</div><h3 class="step-title">Browse the Collection</h3><p class="step-desc">Explore original works across portraits, landscapes, abstract art, and figurative studies. Each is one of a kind.</p></div>
      <div class="process-step fade-up"><div class="step-num">02</div><h3 class="step-title">Select & Inquire</h3><p class="step-desc">Add to cart or send an inquiry about any piece. We're happy to share additional photos or discuss the work.</p></div>
      <div class="process-step fade-up"><div class="step-num">03</div><h3 class="step-title">Secure Packaging</h3><p class="step-desc">Every sketch is rolled in acid-free paper, tube-packed and shipped with tracking to anywhere in India.</p></div>
      <div class="process-step fade-up"><div class="step-num">04</div><h3 class="step-title">Yours Forever</h3><p class="step-desc">Hang it, frame it, live with it. The original stays with you — we never reproduce or sell copies of sold works.</p></div>
    </div>
  </div>
</section>

<!-- TESTIMONIALS -->
<section class="testimonials-section">
  <div class="container">
    <div class="section-header fade-up">
      <div>
        <p class="section-eyebrow">✦ Collectors Say</p>
        <h2 class="section-title">Words from <em>Our Walls</em></h2>
      </div>
    </div>
    <div class="testimonials-grid">
      <div class="testimonial-card fade-up">
        <div class="quote-mark">"</div>
        <p class="testimonial-text">The portrait I received is absolutely haunting in the best possible way. There's a depth and rawness to the charcoal work that a photograph simply cannot replicate. It's now the first thing anyone notices in my living room.</p>
        <div class="testimonial-author"><div class="author-avatar">A</div><div><div class="author-name">Arjun M.</div><div class="author-location">Mumbai, Maharashtra</div></div></div>
      </div>
      <div class="testimonial-card fade-up">
        <div class="quote-mark">"</div>
        <p class="testimonial-text">I've collected art for over a decade and The Varches pieces stand apart. The linework is confident, expressive — it doesn't look labored. Knowing it's a true original makes it even more special.</p>
        <div class="testimonial-author"><div class="author-avatar">P</div><div><div class="author-name">Priya S.</div><div class="author-location">Bangalore, Karnataka</div></div></div>
      </div>
      <div class="testimonial-card fade-up">
        <div class="quote-mark">"</div>
        <p class="testimonial-text">Ordered the abstract piece as a gift for my studio. Three different people asked where I bought it on the very first day. The packaging was impeccable — it arrived as if it had been wrapped with love.</p>
        <div class="testimonial-author"><div class="author-avatar">R</div><div><div class="author-name">Rahul D.</div><div class="author-location">Chennai, Tamil Nadu</div></div></div>
      </div>
    </div>
  </div>
</section>

<!-- CONTACT -->
<section class="contact-section" id="contact">
  <div class="container">
    <div class="contact-inner">
      <div class="contact-info fade-up">
        <p class="section-eyebrow">✦ Get In Touch</p>
        <h2>Commission a Piece.<br>Ask Anything.</h2>
        <p>Whether you want to know more about a specific work, discuss a custom commission, or simply say hello — the inbox is always open.</p>
        <div class="contact-detail"><svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M4 4h16c1.1 0 2 .9 2 2v12c0 1.1-.9 2-2 2H4c-1.1 0-2-.9-2-2V6c0-1.1.9-2 2-2z"/><polyline points="22,6 12,13 2,6"/></svg>hello@thevarches.com</div>
        <div class="contact-detail"><svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M22 16.92v3a2 2 0 01-2.18 2 19.79 19.79 0 01-8.63-3.07A19.5 19.5 0 013.07 8.81 19.79 19.79 0 012 2.18 2 2 0 014 0h3a2 2 0 012 1.72 12.84 12.84 0 00.7 2.81 2 2 0 01-.45 2.11L8.09 7.91a16 16 0 006 6l1.27-1.27a2 2 0 012.11-.45 12.84 12.84 0 002.81.7A2 2 0 0122 14h0z"/></svg>+91 98765 43210</div>
        <div class="contact-detail"><svg width="16" height="16" fill="none" stroke="currentColor" stroke-width="2" viewBox="0 0 24 24"><path d="M21 10c0 7-9 13-9 13s-9-6-9-13a9 9 0 0118 0z"/><circle cx="12" cy="10" r="3"/></svg>Chengalpattu, Tamil Nadu, India</div>
      </div>
      <div class="fade-up">
        <div class="contact-form" id="inquiryForm">
          <div class="form-group"><label>Your Name *</label><input type="text" id="inq-name" placeholder="Full name" /></div>
          <div class="form-group"><label>Email Address *</label><input type="email" id="inq-email" placeholder="you@email.com" /></div>
          <div class="form-group">
            <label>Regarding</label>
            <select id="inq-sketch"><option value="">General inquiry</option></select>
          </div>
          <div class="form-group"><label>Your Message *</label><textarea id="inq-message" rows="5" placeholder="Tell us what you're looking for, or what caught your eye..."></textarea></div>
          <button class="submit-btn" onclick="sendInquiry()">Send Message →</button>
        </div>
      </div>
    </div>
  </div>
</section>

<!-- FOOTER -->
<footer>
  <div class="container">
    <div class="footer-top">
      <div class="footer-brand">
        <a href="#" class="logo">The <span>Varches</span></a>
        <p>Original hand-drawn sketches. Each piece is unique — no prints, no reproductions. Art for those who value the singular.</p>
      </div>
      <div class="footer-col">
        <h5>Collection</h5>
        <a href="#">All Works</a><a href="#">Portraits</a><a href="#">Landscapes</a><a href="#">Abstract</a><a href="#">Figurative</a>
      </div>
      <div class="footer-col">
        <h5>Information</h5>
        <a href="#">About the Artist</a><a href="#">Shipping Policy</a><a href="#">Returns</a><a href="#">Care Instructions</a>
      </div>
      <div class="footer-col">
        <h5>Connect</h5>
        <a href="#">Instagram</a><a href="#">Pinterest</a><a href="#">Email</a><a href="#">Custom Orders</a>
      </div>
    </div>
    <div class="footer-bottom">
      <p class="footer-copy">© 2025 The Varches. All rights reserved. Each artwork is unique and fully original.</p>
      <p class="footer-copy">Made with ✦ in Tamil Nadu</p>
    </div>
  </div>
</footer>

<script>
  const API = 'http://localhost:5000/api';
  let cart = [];
  let allSketches = [];

  // ---- CURSOR ----
  const cursor = document.getElementById('cursor');
  const ring = document.getElementById('cursorRing');
  let mx = 0, my = 0, rx = 0, ry = 0;
  document.addEventListener('mousemove', e => { mx = e.clientX; my = e.clientY; });
  (function animateCursor() {
    cursor.style.left = mx + 'px'; cursor.style.top = my + 'px';
    rx += (mx - rx) * 0.12; ry += (my - ry) * 0.12;
    ring.style.left = rx + 'px'; ring.style.top = ry + 'px';
    requestAnimationFrame(animateCursor);
  })();
  document.querySelectorAll('a, button, .sketch-card').forEach(el => {
    el.addEventListener('mouseenter', () => { cursor.classList.add('hovering'); ring.classList.add('hovering'); });
    el.addEventListener('mouseleave', () => { cursor.classList.remove('hovering'); ring.classList.remove('hovering'); });
  });

  // ---- INTERSECTION OBSERVER ----
  const io = new IntersectionObserver(entries => {
    entries.forEach(e => { if (e.isIntersecting) e.target.classList.add('visible'); });
  }, { threshold: 0.1 });
  document.querySelectorAll('.fade-up').forEach(el => io.observe(el));

  // ---- TOAST ----
  function showToast(msg, type = 'info') {
    const t = document.createElement('div');
    t.className = `toast ${type}`;
    t.innerHTML = `<span>${type === 'success' ? '✓' : type === 'error' ? '✕' : '✦'}</span> ${msg}`;
    document.getElementById('toastContainer').appendChild(t);
    setTimeout(() => t.classList.add('show'), 10);
    setTimeout(() => { t.classList.remove('show'); setTimeout(() => t.remove(), 400); }, 3500);
  }

  // ---- API HELPERS ----
  async function fetchAPI(endpoint) {
    try {
      const res = await fetch(API + endpoint);
      if (!res.ok) throw new Error('API error');
      return await res.json();
    } catch { return null; }
  }

  // ---- LOAD CATEGORIES ----
  async function loadCategories() {
    const cats = await fetchAPI('/categories');
    if (!cats) return;
    const bar = document.getElementById('filterBar');
    const select = document.getElementById('inq-sketch');
    cats.forEach(c => {
      const btn = document.createElement('button');
      btn.className = 'filter-btn'; btn.dataset.cat = c.slug; btn.textContent = c.name;
      btn.onclick = () => filterSketches(c.slug, btn);
      bar.appendChild(btn);
    });
    allSketches.forEach(s => {
      const opt = document.createElement('option');
      opt.value = s.id; opt.textContent = s.title; select.appendChild(opt);
    });
  }

  // ---- LOAD SKETCHES ----
  async function loadSketches(category = '') {
    const grid = document.getElementById('sketchesGrid');
    grid.innerHTML = `<div class="loading-spinner"><div class="loading-dot"></div><div class="loading-dot"></div><div class="loading-dot"></div></div>`;
    const query = category ? `?category=${category}` : '';
    const data = await fetchAPI(`/sketches${query}`);
    if (!data || !data.sketches.length) {
      grid.innerHTML = `<p style="grid-column:1/-1; text-align:center; padding:4rem; color:var(--warm-gray); font-style:italic; font-size:1.2rem;">No sketches found in this collection yet.</p>`;
      return;
    }
    allSketches = data.sketches;
    grid.innerHTML = '';
    const select = document.getElementById('inq-sketch');
    if (select.options.length === 1) {
      data.sketches.forEach(s => {
        const opt = document.createElement('option');
        opt.value = s.id; opt.textContent = s.title; select.appendChild(opt);
      });
    }
    data.sketches.forEach(sketch => { const card = createSketchCard(sketch); grid.appendChild(card); });
    grid.querySelectorAll('.sketch-card').forEach(el => io.observe(el));
  }

  function createSketchCard(sketch) {
    const card = document.createElement('div');
    card.className = 'sketch-card fade-up';
    const imgHTML = sketch.image_url
            ? `<img class="sketch-img" src="http://localhost:5000${sketch.image_url}" alt="${sketch.title}" />`
            : `<div class="sketch-placeholder"><svg width="48" height="48" fill="none" stroke="white" stroke-width="1" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg><span>Sketch Preview</span></div>`;
    const inCart = cart.find(i => i.id === sketch.id);
    card.innerHTML = `
      ${imgHTML}
      ${sketch.is_featured ? `<span class="sketch-badge">Featured</span>` : ''}
      ${sketch.is_original ? `<span class="sketch-badge original" style="top:${sketch.is_featured ? '2.5rem' : '1rem'}">Original</span>` : ''}
      <div class="sketch-overlay">
        <div class="sketch-tag">${sketch.category_name || 'Sketch'} · ${sketch.medium || 'Mixed Media'}</div>
        <div class="sketch-name">${sketch.title}</div>
        <div class="sketch-meta">${sketch.dimensions || ''}</div>
        <div class="sketch-price">₹${parseFloat(sketch.price).toLocaleString('en-IN')}</div>
        <div class="sketch-actions">
          <button class="btn-add-cart" onclick="addToCart(event, ${JSON.stringify(sketch).replace(/"/g, '&quot;')})" ${inCart || sketch.stock_qty === 0 ? 'disabled style="opacity:0.5"' : ''}>${inCart ? 'In Cart' : sketch.stock_qty === 0 ? 'Sold' : 'Add to Cart'}</button>
          <button class="btn-view" onclick="openLightbox(event, ${JSON.stringify(sketch).replace(/"/g, '&quot;')})">View</button>
        </div>
      </div>`;
    return card;
  }

  function filterSketches(slug, btn) {
    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
    btn.classList.add('active');
    loadSketches(slug);
  }

  // ---- CART ----
  function addToCart(e, sketch) {
    e.stopPropagation();
    if (cart.find(i => i.id === sketch.id)) return;
    cart.push({ ...sketch, qty: 1 });
    updateCartUI();
    showToast(`"${sketch.title}" added to your selection`, 'success');
  }
  function removeFromCart(id) { cart = cart.filter(i => i.id !== id); updateCartUI(); renderCartItems(); }
  function updateCartUI() {
    const count = document.getElementById('cartCount');
    if (cart.length === 0) { count.style.display = 'none'; }
    else { count.style.display = 'flex'; count.textContent = cart.length; }
  }
  function openCart() { document.getElementById('cartOverlay').classList.add('open'); document.getElementById('cartDrawer').classList.add('open'); renderCartItems(); }
  function closeCart() { document.getElementById('cartOverlay').classList.remove('open'); document.getElementById('cartDrawer').classList.remove('open'); }
  function renderCartItems() {
    const body = document.getElementById('cartBody');
    const footer = document.getElementById('cartFooter');
    if (!cart.length) {
      body.innerHTML = `<div class="cart-empty"><svg width="48" height="48" fill="none" stroke="currentColor" stroke-width="1" viewBox="0 0 24 24"><path d="M6 2L3 6v14a2 2 0 002 2h14a2 2 0 002-2V6l-3-4z"/><line x1="3" y1="6" x2="21" y2="6"/><path d="M16 10a4 4 0 01-8 0"/></svg><p>Your collection awaits.<br>Add sketches to begin.</p></div>`;
      footer.style.display = 'none'; return;
    }
    const total = cart.reduce((s, i) => s + parseFloat(i.price), 0);
    body.innerHTML = cart.map(item => `
      <div class="cart-item">
        ${item.image_url ? `<img class="cart-item-img" src="http://localhost:5000${item.image_url}" alt="${item.title}" />` : `<div class="cart-item-img" style="display:flex;align-items:center;justify-content:center;background:#2a2520"><svg width="24" height="24" fill="none" stroke="white" stroke-width="1" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg></div>`}
        <div class="cart-item-info">
          <div class="cart-item-name">${item.title}</div>
          <div class="cart-item-meta">${item.medium || ''} · ${item.dimensions || 'Original'}</div>
          <div class="cart-item-price">₹${parseFloat(item.price).toLocaleString('en-IN')}</div>
        </div>
        <button class="cart-item-remove" onclick="removeFromCart(${item.id})">✕</button>
      </div>`).join('');
    document.getElementById('cartTotal').textContent = `₹${total.toLocaleString('en-IN', { minimumFractionDigits: 2 })}`;
    footer.style.display = 'block';
  }

  // ---- LIGHTBOX ----
  function openLightbox(e, sketch) {
    e.stopPropagation();
    const content = document.getElementById('lightboxContent');
    const inCart = cart.find(i => i.id === sketch.id);
    content.innerHTML = `
      <div class="lightbox-img-wrap">
        ${sketch.image_url ? `<img src="http://localhost:5000${sketch.image_url}" alt="${sketch.title}" />` : `<div style="display:flex;flex-direction:column;align-items:center;gap:1rem;color:rgba(255,255,255,0.2)"><svg width="80" height="80" fill="none" stroke="currentColor" stroke-width="1" viewBox="0 0 24 24"><rect x="3" y="3" width="18" height="18" rx="2"/><circle cx="8.5" cy="8.5" r="1.5"/><polyline points="21 15 16 10 5 21"/></svg><span style="font-family:'Space Mono',monospace;font-size:0.6rem;letter-spacing:0.2em">No image uploaded</span></div>`}
      </div>
      <div class="lightbox-info">
        <div class="lightbox-tag">${sketch.category_name || 'Art'} · ${sketch.medium || 'Mixed'}</div>
        <div class="lightbox-title">${sketch.title}</div>
        <div class="lightbox-desc">${sketch.description || 'An original work by The Varches. Each piece carries the full weight of the moment it was created.'}</div>
        <div class="lightbox-specs">
          ${sketch.dimensions ? `<div class="spec-row"><span class="spec-k">Dimensions</span><span class="spec-v">${sketch.dimensions}</span></div>` : ''}
          ${sketch.medium ? `<div class="spec-row"><span class="spec-k">Medium</span><span class="spec-v">${sketch.medium}</span></div>` : ''}
          <div class="spec-row"><span class="spec-k">Type</span><span class="spec-v">${sketch.is_original ? 'Original' : 'Print'}</span></div>
          <div class="spec-row"><span class="spec-k">Availability</span><span class="spec-v">${sketch.stock_qty > 0 ? 'Available' : 'Sold'}</span></div>
        </div>
        <div class="lightbox-price">₹${parseFloat(sketch.price).toLocaleString('en-IN')}</div>
        <div class="lightbox-actions">
          <button class="btn-add-cart" style="padding:0.9rem 2rem;font-family:'Space Mono',monospace;font-size:0.65rem;letter-spacing:0.15em;text-transform:uppercase;cursor:none;" onclick="addToCart(event, ${JSON.stringify(sketch).replace(/"/g, '&quot;')})" ${inCart || sketch.stock_qty === 0 ? 'disabled style="opacity:0.5"' : ''}>${inCart ? 'In Cart ✓' : sketch.stock_qty === 0 ? 'Sold Out' : 'Add to Cart'}</button>
          <button class="btn-view" style="background:rgba(245,240,232,0.1);border:1px solid rgba(245,240,232,0.3);color:white;padding:0.9rem 1.5rem;font-family:'Space Mono',monospace;font-size:0.65rem;letter-spacing:0.1em;text-transform:uppercase;cursor:none;" onclick="document.getElementById('inq-sketch').value='${sketch.id}';closeLightbox();document.getElementById('contact').scrollIntoView({behavior:'smooth'})">Inquire</button>
        </div>
      </div>`;
    document.getElementById('lightbox').classList.add('open');
  }
  function closeLightbox() { document.getElementById('lightbox').classList.remove('open'); }
  document.getElementById('lightbox').addEventListener('click', e => { if (e.target === document.getElementById('lightbox')) closeLightbox(); });

  // ---- CHECKOUT ----
  function openCheckout() { closeCart(); document.getElementById('checkoutModal').classList.add('open'); }
  function closeCheckout() { document.getElementById('checkoutModal').classList.remove('open'); }
  document.getElementById('checkoutModal').addEventListener('click', e => { if (e.target === document.getElementById('checkoutModal')) closeCheckout(); });

  async function placeOrder() {
    const name = document.getElementById('co-name').value.trim();
    const email = document.getElementById('co-email').value.trim();
    const address = document.getElementById('co-address').value.trim();
    const phone = document.getElementById('co-phone').value.trim();
    const notes = document.getElementById('co-notes').value.trim();
    if (!name || !email || !address) { showToast('Please fill in all required fields', 'error'); return; }
    if (!cart.length) { showToast('Your cart is empty', 'error'); return; }
    try {
      const res = await fetch(`${API}/orders`, {
        method: 'POST', headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ customer_name: name, customer_email: email, customer_phone: phone, shipping_address: address, notes, items: cart.map(i => ({ sketch_id: i.id, quantity: 1 })) })
      });
      const data = await res.json();
      if (res.ok) { cart = []; updateCartUI(); closeCheckout(); showToast(`Order ${data.order_number} placed! We'll confirm via email.`, 'success'); loadSketches(); }
      else { showToast(data.error || 'Order failed. Please try again.', 'error'); }
    } catch { showToast('Connection error. Please try again.', 'error'); }
  }

  // ---- INQUIRY ----
  async function sendInquiry() {
    const name = document.getElementById('inq-name').value.trim();
    const email = document.getElementById('inq-email').value.trim();
    const message = document.getElementById('inq-message').value.trim();
    const sketch_id = document.getElementById('inq-sketch').value;
    if (!name || !email || !message) { showToast('Please fill in all required fields', 'error'); return; }
    try {
      const res = await fetch(`${API}/inquiries`, {
        method: 'POST', headers: { 'Content-Type': 'application/json' },
        body: JSON.stringify({ name, email, message, sketch_id: sketch_id || null })
      });
      const data = await res.json();
      if (res.ok) {
        document.getElementById('inq-name').value = '';
        document.getElementById('inq-email').value = '';
        document.getElementById('inq-message').value = '';
        showToast("Message sent! We'll get back to you soon.", 'success');
      } else { showToast(data.error || 'Failed to send. Please try again.', 'error'); }
    } catch { showToast('Connection error. Please try again.', 'error'); }
  }

  // ---- LOAD STATS ----
  async function loadStats() {
    const data = await fetchAPI('/admin/stats');
    if (!data) return;
    document.getElementById('statSketches').textContent = data.total_sketches || 0;
    document.getElementById('statOrders').textContent = data.total_orders || 0;
  }

  // ---- INIT ----
  loadSketches();
  loadCategories();
  loadStats();

  document.querySelector('.filter-btn').onclick = function () {
    document.querySelectorAll('.filter-btn').forEach(b => b.classList.remove('active'));
    this.classList.add('active');
    loadSketches('');
  };

  document.addEventListener('keydown', e => {
    if (e.key === 'Escape') { closeLightbox(); closeCart(); closeCheckout(); }
  });
</script>
</body>
</html>